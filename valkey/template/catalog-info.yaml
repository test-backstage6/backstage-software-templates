apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: ${{values.app_name}}
  description: New Valkey db cluster named ${{values.app_name}}
  annotations:
    github.com/project-slug: test-backstage6/${{values.app_name}}
    backstage.io/techdocs-ref: dir:.
    owner: ${{identity.userEntityRef}}
  links:
    - url: "${{values.app_name}}-wp-valkey.wp-valkey.k8s-devel.cloud.dc-2.dcwp.pl:6379"
      title: "${{values.app_name}}-wp-valkey.wp-valkey.k8s-devel.cloud.dc-2.dcwp.pl:6379"
      icon: database
    - url: http://grafana.k8s-devel.dc-2.dcwp.pl/d/6581e46e4e5c7ba40a07646395ef7b23/kubernetes-compute-resources-pod?orgId=1&refresh=10s&var-datasource=default&var-cluster=&var-namespace=saas-valkey-sentinel&var-pod=mydb1334-wp-valkey-node-0-x-mydb1334-dsa-test-inclus-d79f79dd41
      title: Grafana dashboard for ${{values.app_name}}
      icon: dashboard

spec:
  type: service
  owner: development
  lifecycle: experimental
